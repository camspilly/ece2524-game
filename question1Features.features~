@part1 @no-clobber
Feature: Single brace type 
  
  A program that checks input files for unbalanced braces.  This
  version only checks for balanced curly braces '{' and '}', ignoring
  all others.

  Background:
    Given I cd to "project"
    And a file named "New_to_America" with:
    """
 Nancy was new to America. She came to America speaking only her native language. She brought her 8-year-old son with her. He was all she had in the world.

They found an apartment in Arcadia. They were there for only two months when a neighbor's dog jumped over the fence. The dog ran toward Nancy's son. Nancy put her body in between the dog and her son. The dog stopped when it saw Nancy screaming at it. She was going to punch it in the nose. The dog turned around.

Shaking, Nancy took her son upstairs. They stayed in the apartment all weekend. Then Nancy found another apartment, close to the school that her son was going to attend.

She and her son walked everywhere. One day her son started coughing badly. He had an asthma attack. All the walking was making his asthma worse.

Nancy knew that she had to buy a car. So she called up the Honda dealer. She talked to a salesman who spoke her language. She told him that she wanted to

    """

    
    Scenario: Question 1
      When I run `./balanced good.c`
      Then the stdout should contain exactly 0 lines
`
    Scenario: Read from stdin
      When I run the shell command "./balanced <test1.c"
      Then its stdout should contain a line matching /[^:]*:7:1:?.*/

    Scenario: Missing Opening Brace
      When I run `./balanced test1.c`
      Then its stdout should contain a line matching /test1\.c:7:1:?.*/

    Scenario: Missing Closing Brace
      When I run `./balanced test2.c`
      Then its stdout should contain exactly 1 line
      And its stdout should contain a line matching /test2\.c:(4:1|8:1|7:31):?.*/

    Scenario: Multiple Input Files
      When I run `./balanced test1.c good.c test2.c`
      Then its stdout should contain exactly 2 lines
      And its stdout should contain a line matching /test1\.c:7:1:?.*/
      And its stdout should contain a line matching /test2\.c:(4:1|8:1|7:31):?.*/
      
